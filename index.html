<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>106Tube</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #050509;
      --card-bg: #0f1016;
      --accent: #ff3b6b;
      --accent-soft: rgba(255, 59, 107, 0.18);
      --text-main: #f5f5f7;
      --text-muted: #9b9ca5;
      --border-subtle: #262736;
      --radius-xl: 18px;
      --radius-lg: 14px;
      --shadow-soft: 0 18px 40px rgba(0, 0, 0, 0.45);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #161727 0, #050509 55%);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      justify-content: center;
    }

    .app-shell {
      width: 100%;
      max-width: 760px;
      padding: 16px 12px 24px;
    }

    @media (min-width: 768px) {
      .app-shell {
        padding: 24px 20px 32px;
      }
    }

    .card {
      background: linear-gradient(
        145deg,
        rgba(20, 21, 32, 0.96),
        rgba(7, 8, 16, 0.98)
      );
      border-radius: 24px;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(255, 255, 255, 0.02);
      padding: 16px 14px 18px;
      backdrop-filter: blur(22px);
    }

    @media (min-width: 768px) {
      .card {
        padding: 20px 20px 22px;
        border-radius: 26px;
      }
    }

    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 14px;
    }

    .logo-wrap {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo-circle {
      width: 34px;
      height: 34px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 10%, #ff83a2, #ff3b6b 35%, #b022ff 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-weight: 700;
      font-size: 16px;
      box-shadow: 0 0 24px rgba(255, 59, 107, 0.7);
    }

    .title-block {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .title {
      font-size: 20px;
      letter-spacing: 0.04em;
      font-weight: 600;
    }

    .subtitle {
      font-size: 11px;
      color: var(--text-muted);
      opacity: 0.9;
    }

    @media (min-width: 768px) {
      .title {
        font-size: 22px;
      }
      .subtitle {
        font-size: 12px;
      }
    }

    .admin-btn {
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.16);
      background: radial-gradient(
        circle at top,
        rgba(255, 255, 255, 0.15),
        rgba(5, 5, 9, 0.9)
      );
      color: var(--text-main);
      padding: 6px 11px;
      font-size: 11px;
      display: flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      outline: none;
      transition: all 0.16s ease-out;
      backdrop-filter: blur(16px);
    }

    .admin-btn span.icon {
      font-size: 13px;
    }

    .admin-btn:hover {
      border-color: rgba(255, 59, 107, 0.65);
      color: #fff;
      transform: translateY(-0.5px);
    }

    .admin-btn:active {
      transform: translateY(0.5px) scale(0.99);
    }

    .telegram-cta {
      margin-bottom: 14px;
    }

    .btn-link {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      width: 100%;
      padding: 10px 14px;
      border-radius: var(--radius-xl);
      background: radial-gradient(
        circle at 0 0,
        rgba(0, 174, 255, 0.35),
        rgba(0, 122, 255, 0.2) 40%,
        rgba(9, 11, 23, 0.95) 100%
      );
      color: #e7f5ff;
      border: 1px solid rgba(0, 174, 255, 0.45);
      text-decoration: none;
      font-size: 13px;
      font-weight: 500;
      box-shadow: 0 10px 28px rgba(0, 0, 0, 0.6);
      transition: all 0.18s ease-out;
    }

    .btn-link:hover {
      transform: translateY(-1px);
      box-shadow: 0 15px 36px rgba(0, 0, 0, 0.7);
      border-color: rgba(0, 194, 255, 0.65);
    }

    .btn-link:active {
      transform: translateY(0);
      box-shadow: 0 10px 22px rgba(0, 0, 0, 0.5);
    }

    .btn-link-icon {
      font-size: 16px;
    }

    .btn-link-sub {
      font-size: 11px;
      opacity: 0.75;
    }

    .tabs {
      display: flex;
      gap: 6px;
      padding: 4px;
      background: rgba(8, 9, 19, 0.92);
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.04);
      margin-bottom: 12px;
      overflow-x: auto;
      scrollbar-width: none;
    }

    .tabs::-webkit-scrollbar {
      display: none;
    }

    .tab-btn {
      flex: 0 0 auto;
      border-radius: 999px;
      padding: 7px 14px;
      border: none;
      background: transparent;
      color: var(--text-muted);
      font-size: 12px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.16s ease-out;
      white-space: nowrap;
    }

    .tab-btn.active {
      background: radial-gradient(
        circle at 10% 0,
        rgba(255, 59, 107, 0.95),
        rgba(176, 34, 255, 0.9)
      );
      color: #fff;
      box-shadow: 0 12px 26px rgba(0, 0, 0, 0.6);
    }

    .tab-btn:not(.active):hover {
      color: #d4d4dc;
    }

    .section-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-muted);
      margin-bottom: 6px;
      opacity: 0.9;
    }

    .video-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .video-card {
      border-radius: var(--radius-lg);
      border: 1px solid var(--border-subtle);
      background: radial-gradient(
        circle at top left,
        rgba(255, 255, 255, 0.02),
        rgba(7, 8, 16, 0.98)
      );
      padding: 10px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    @media (min-width: 768px) {
      .video-card {
        padding: 12px;
      }
    }

    .video-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
    }

    .video-title {
      font-size: 14px;
      font-weight: 500;
    }

    .video-meta {
      font-size: 11px;
      color: var(--text-muted);
    }

    .video-tag {
      font-size: 10px;
      padding: 2px 7px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.06);
    }

    .video-player-wrap {
      border-radius: 12px;
      overflow: hidden;
      background: #000;
      border: 1px solid rgba(255, 255, 255, 0.04);
    }

    video {
      width: 100%;
      height: auto;
      display: block;
      background: #000;
    }

    .video-actions {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-top: 2px;
      flex-wrap: wrap;
    }

    .video-actions-left {
      display: flex;
      gap: 6px;
      align-items: center;
      flex-wrap: wrap;
    }

    .pill {
      font-size: 10px;
      padding: 3px 7px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      color: var(--text-muted);
    }

    .btn-secondary,
    .btn-ghost {
      border-radius: 999px;
      padding: 6px 11px;
      font-size: 11px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(10, 11, 20, 0.95);
      color: #f5f5f7;
      text-decoration: none;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: all 0.16s ease-out;
    }

    .btn-secondary:hover,
    .btn-ghost:hover {
      border-color: rgba(255, 59, 107, 0.7);
      color: #fff;
    }

    .btn-ghost {
      background: transparent;
      color: var(--text-muted);
    }

    .btn-ghost:hover {
      color: #f5f5f7;
      background: rgba(255, 255, 255, 0.02);
    }

    .btn-secondary-icon {
      font-size: 13px;
    }

    .empty-state {
      padding: 14px 10px;
      border-radius: 14px;
      border: 1px dashed rgba(255, 255, 255, 0.15);
      background: radial-gradient(
        circle at top left,
        rgba(255, 59, 107, 0.08),
        rgba(7, 8, 16, 0.98)
      );
      font-size: 12px;
      color: var(--text-muted);
    }

    .empty-state b {
      color: #f5f5f7;
    }

    /* Admin panel */

    .admin-panel {
      margin-top: 14px;
      padding-top: 12px;
      border-top: 1px solid rgba(255, 255, 255, 0.07);
      display: none;
    }

    .admin-panel.visible {
      display: block;
    }

    .admin-title {
      font-size: 12px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--text-muted);
      margin-bottom: 8px;
    }

    .admin-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }

    @media (min-width: 768px) {
      .admin-grid {
        grid-template-columns: 3fr 2.4fr;
      }
    }

    .admin-section {
      padding: 9px;
      border-radius: 14px;
      background: rgba(5, 6, 13, 0.96);
      border: 1px solid rgba(255, 255, 255, 0.05);
      font-size: 11px;
    }

    .admin-section h3 {
      margin: 0 0 6px;
      font-size: 12px;
      font-weight: 500;
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 3px;
      margin-bottom: 6px;
    }

    label {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--text-muted);
    }

    input,
    select {
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(7, 8, 16, 0.96);
      color: #f5f5f7;
      font-size: 12px;
      padding: 6px 10px;
      outline: none;
      width: 100%;
    }

    input:focus,
    select:focus {
      border-color: rgba(255, 59, 107, 0.85);
    }

    .checkbox-row {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      color: var(--text-muted);
      margin-bottom: 6px;
    }

    .checkbox-row input {
      width: auto;
      accent-color: #ff3b6b;
    }

    .admin-actions {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
    }

    .btn-small {
      font-size: 11px;
      padding: 5px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.18);
      background: rgba(10, 11, 20, 0.96);
      color: #f5f5f7;
      cursor: pointer;
      transition: all 0.16s ease-out;
    }

    .btn-small.primary {
      background: radial-gradient(
        circle at 0 0,
        rgba(255, 59, 107, 0.95),
        rgba(176, 34, 255, 0.95)
      );
      border-color: rgba(255, 59, 107, 0.85);
    }

    .btn-small:hover {
      transform: translateY(-0.5px);
      border-color: rgba(255, 59, 107, 0.8);
    }

    .admin-note {
      font-size: 10px;
      color: var(--text-muted);
      margin-top: 2px;
    }

    .footer {
      margin-top: 10px;
      font-size: 10px;
      color: var(--text-muted);
      text-align: center;
      opacity: 0.7;
    }
  </style>
</head>
<body>
  <main class="app-shell">
    <section class="card">
      <header class="header">
        <div class="logo-wrap">
          <div class="logo-circle">106</div>
          <div class="title-block">
            <div class="title">106Tube</div>
            <div class="subtitle">–ú–∏–Ω–∏-–∞—Ä—Ö–∏–≤ –≤–∏–¥–æ—Å–æ–≤ –¥–ª—è —Å–≤–æ–∏—Ö</div>
          </div>
        </div>
        <button class="admin-btn" id="adminToggleBtn" type="button">
          <span class="icon">‚öôÔ∏è</span>
          <span>–ê–¥–º–∏–Ω</span>
        </button>
      </header>

      <section class="telegram-cta">
        <a
          href="https://t.me/OneZeroSixTube_bot"
          target="_blank"
          rel="noopener noreferrer"
          class="btn-link"
        >
          <span class="btn-link-icon">üì®</span>
          <span>
            –ù–∞—à–∞ –ø—Ä–µ–¥–ª–æ–∂–∫–∞ –≤ Telegram
            <div class="btn-link-sub">–ö–∏–¥–∞–π –∏–¥–µ–∏ –∏ –≤–∏–¥–æ—Å—ã –ø—Ä—è–º–æ –≤ –±–æ—Ç–∞</div>
          </span>
        </a>
      </section>

      <section>
        <div class="section-label">–†–∞–∑–¥–µ–ª—ã</div>
        <div class="tabs" id="tabsContainer">
          <!-- –í–∫–ª–∞–¥–∫–∏ –±—É–¥—É—Ç –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω—ã —Å–∫—Ä–∏–ø—Ç–æ–º -->
        </div>
      </section>

      <section>
        <div class="section-label" id="currentSectionLabel">
          –í–∏–¥–µ–æ —Ä–∞–∑–¥–µ–ª–∞
        </div>
        <div class="video-list" id="videoList">
          <!-- –í–∏–¥–µ–æ –±—É–¥—É—Ç –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω—ã —Å–∫—Ä–∏–ø—Ç–æ–º -->
        </div>
      </section>

      <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
      <section class="admin-panel" id="adminPanel">
        <div class="admin-title">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</div>
        <div class="admin-grid">
          <div class="admin-section">
            <h3>–î–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–µ–æ</h3>
            <div class="field">
              <label for="sectionSelect">–†–∞–∑–¥–µ–ª / —É—á–∏—Ç–µ–ª—å</label>
              <select id="sectionSelect"></select>
            </div>
            <div class="field">
              <label for="videoTitleInput">–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ</label>
              <input
                id="videoTitleInput"
                type="text"
                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ù–æ–≤—ã–π —É—Ä–æ–∫ 7–ë"
              />
            </div>
            <div class="field">
              <label for="videoFileInput">–§–∞–π–ª (–∏–º—è *.mp4 –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)</label>
              <input
                id="videoFileInput"
                type="text"
                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: lesson7b.mp4"
              />
            </div>
            <div class="checkbox-row">
              <input type="checkbox" id="videoDownloadable" checked />
              <label for="videoDownloadable">–†–∞–∑—Ä–µ—à–∏—Ç—å —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ</label>
            </div>
            <div class="admin-actions">
              <button class="btn-small primary" id="addVideoBtn" type="button">
                ‚ûï –î–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–µ–æ
              </button>
            </div>
            <div class="admin-note">
              –í–∞–∂–Ω–æ: —Ñ–∞–π–ª —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º –¥–æ–ª–∂–µ–Ω –ª–µ–∂–∞—Ç—å —Ä—è–¥–æ–º —Å index.html –Ω–∞
              —Ö–æ—Å—Ç–∏–Ω–≥–µ (–∏–ª–∏ –≤ –Ω—É–∂–Ω–æ–π –ø–∞–ø–∫–µ, –µ—Å–ª–∏ —É–∫–∞–∂–µ—à—å –ø—É—Ç—å).
            </div>
          </div>

          <div class="admin-section">
            <h3>–ù–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª / —É—á–∏—Ç–µ–ª—å</h3>
            <div class="field">
              <label for="sectionNameInput">–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞</label>
              <input
                id="sectionNameInput"
                type="text"
                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á (–º–∞—Ç–∞–Ω)"
              />
            </div>
            <div class="admin-actions">
              <button
                class="btn-small primary"
                id="addSectionBtn"
                type="button"
              >
                ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª
              </button>
            </div>
            <div class="admin-note">
              –ù–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª –ø–æ—è–≤–∏—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞ —Å–≤–µ—Ä—Ö—É.
              <br />–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ <b>localStorage</b> –≤ —Ç–≤–æ—ë–º
              –±—Ä–∞—É–∑–µ—Ä–µ.
            </div>
          </div>
        </div>
      </section>

      <div class="footer">
        106Tube ¬∑ —á–∏—Å—Ç–æ —à–∫–æ–ª—å–Ω—ã–π Netflix. –î–∞–Ω–Ω—ã–µ –∞–¥–º–∏–Ω–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ —É —Ç–µ–±—è
        –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
      </div>
    </section>
  </main>

  <script>
    // =========================
    //  –ö–æ–Ω—Ñ–∏–≥ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    // =========================

    const ADMIN_PASSWORD = "03122010BaK$";
    const STORAGE_KEY = "one06tubeData";

    const defaultData = {
      sections: [
        {
          id: "geo",
          title: "–õ—é–¥–º–∏–ª–∞ –ü–µ—Ç—Ä–æ–≤–Ω–∞ (–≥–µ–æ–≥—Ä–∞—Ñ–∏—á–∫–∞)",
          meta: "–ì–µ–æ–≥—Ä–∞—Ñ–∏—è",
          videos: [
            {
              id: "geo-1",
              title: "Geo.mp4",
              file: "Geo.mp4",
              downloadable: true,
              tag: "–£—Ä–æ–∫ –≥–µ–æ–≥—Ä–∞—Ñ–∏–∏",
            },
          ],
        },
        {
          id: "music",
          title: "–ú—É–∑—ã—á–∫–∞",
          meta: "–¢—Ä–µ–∫–∏ / —Ñ–æ–Ω–æ–≤—ã–µ —Ä–æ–ª–∏–∫–∏",
          videos: [
            {
              id: "muz-1",
              title: "Muz.mp4",
              file: "Muz.mp4",
              downloadable: false,
              tag: "–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –≤–∏–¥–æ—Å",
            },
          ],
        },
      ],
      activeSectionId: "geo",
    };

    let state = loadState();
    let isAdmin = false;

    // =========================
    //  –ó–∞–≥—Ä—É–∑–∫–∞ / —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
    // =========================

    function loadState() {
      try {
        const raw = localStorage.getItem(STORAGE_KEY);
        if (!raw) return structuredClone(defaultData);
        const parsed = JSON.parse(raw);
        // –ú–∏–Ω–∏-–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
        if (!parsed.sections || !Array.isArray(parsed.sections)) {
          return structuredClone(defaultData);
        }
        if (!parsed.activeSectionId) {
          parsed.activeSectionId = parsed.sections[0]?.id ?? "geo";
        }
        return parsed;
      } catch (e) {
        console.warn("–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è state, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç:", e);
        return structuredClone(defaultData);
      }
    }

    function saveState() {
      try {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
      } catch (e) {
        console.warn("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å state:", e);
      }
    }

    // =========================
    //  –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    // =========================

    const tabsContainer = document.getElementById("tabsContainer");
    const videoList = document.getElementById("videoList");
    const currentSectionLabel = document.getElementById("currentSectionLabel");
    const adminPanel = document.getElementById("adminPanel");
    const adminToggleBtn = document.getElementById("adminToggleBtn");

    const sectionSelect = document.getElementById("sectionSelect");
    const videoTitleInput = document.getElementById("videoTitleInput");
    const videoFileInput = document.getElementById("videoFileInput");
    const videoDownloadable = document.getElementById("videoDownloadable");
    const addVideoBtn = document.getElementById("addVideoBtn");
    const sectionNameInput = document.getElementById("sectionNameInput");
    const addSectionBtn = document.getElementById("addSectionBtn");

    function renderTabs() {
      tabsContainer.innerHTML = "";
      state.sections.forEach((section) => {
        const btn = document.createElement("button");
        btn.className = "tab-btn" + (section.id === state.activeSectionId ? " active" : "");
        btn.textContent = section.title;
        btn.type = "button";
        btn.addEventListener("click", () => {
          state.activeSectionId = section.id;
          saveState();
          renderTabs();
          renderVideos();
        });
        tabsContainer.appendChild(btn);
      });
    }

    function renderVideos() {
      const section =
        state.sections.find((s) => s.id === state.activeSectionId) ||
        state.sections[0];

      if (!section) {
        videoList.innerHTML =
          '<div class="empty-state">–ù–µ—Ç —Ä–∞–∑–¥–µ–ª–æ–≤. –ó–∞–π–¥–∏ –≤ <b>–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</b> –∏ —Å–æ–∑–¥–∞–π –ø–µ—Ä–≤—ã–π —Ä–∞–∑–¥–µ–ª.</div>';
        currentSectionLabel.textContent = "–í–∏–¥–µ–æ —Ä–∞–∑–¥–µ–ª–∞";
        return;
      }

      currentSectionLabel.textContent = `–í–∏–¥–µ–æ: ${section.title}`;
      videoList.innerHTML = "";

      if (!section.videos || section.videos.length === 0) {
        const empty = document.createElement("div");
        empty.className = "empty-state";
        empty.innerHTML =
          "–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –ø–æ–∫–∞ –Ω–µ—Ç —Ä–æ–ª–∏–∫–æ–≤. –î–æ–±–∞–≤—å –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ <b>–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</b>.";
        videoList.appendChild(empty);
        return;
      }

      section.videos.forEach((video) => {
        const card = document.createElement("article");
        card.className = "video-card";

        const header = document.createElement("div");
        header.className = "video-header";

        const info = document.createElement("div");
        const titleDiv = document.createElement("div");
        titleDiv.className = "video-title";
        titleDiv.textContent = video.title;
        const metaDiv = document.createElement("div");
        metaDiv.className = "video-meta";
        metaDiv.textContent = section.meta || "–í–∏–¥–µ–æ —Ä–∞–∑–¥–µ–ª–∞";

        info.appendChild(titleDiv);
        info.appendChild(metaDiv);

        const tag = document.createElement("div");
        tag.className = "video-tag";
        tag.textContent = video.tag || "–í–∏–¥–µ–æ";

        header.appendChild(info);
        header.appendChild(tag);

        const playerWrap = document.createElement("div");
        playerWrap.className = "video-player-wrap";
        const vidEl = document.createElement("video");
        vidEl.controls = true;
        vidEl.preload = "metadata";
        vidEl.src = video.file;
        vidEl.setAttribute("playsinline", "playsinline");
        playerWrap.appendChild(vidEl);

        const actions = document.createElement("div");
        actions.className = "video-actions";

        const left = document.createElement("div");
        left.className = "video-actions-left";
        const pill = document.createElement("div");
        pill.className = "pill";
        pill.textContent = "MP4 ¬∑ –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª";
        left.appendChild(pill);

        const right = document.createElement("div");

        if (video.downloadable) {
          const downloadLink = document.createElement("a");
          downloadLink.href = video.file;
          downloadLink.download = video.title || "";
          downloadLink.className = "btn-secondary";
          downloadLink.innerHTML =
            '<span class="btn-secondary-icon">‚¨áÔ∏è</span><span>–°–∫–∞—á–∞—Ç—å</span>';
          right.appendChild(downloadLink);
        }

        const openBtn = document.createElement("button");
        openBtn.type = "button";
        openBtn.className = "btn-ghost";
        openBtn.textContent = "–û—Ç–∫—Ä—ã—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ";
        openBtn.addEventListener("click", () => {
          window.open(video.file, "_blank");
        });
        right.appendChild(openBtn);

        actions.appendChild(left);
        actions.appendChild(right);

        card.appendChild(header);
        card.appendChild(playerWrap);
        card.appendChild(actions);

        videoList.appendChild(card);
      });
    }

    function renderSectionSelect() {
      sectionSelect.innerHTML = "";
      state.sections.forEach((section) => {
        const opt = document.createElement("option");
        opt.value = section.id;
        opt.textContent = section.title;
        sectionSelect.appendChild(opt);
      });
      if (state.activeSectionId) {
        sectionSelect.value = state.activeSectionId;
      }
    }

    // =========================
    //  –õ–æ–≥–∏–∫–∞ –∞–¥–º–∏–Ω–∞
    // =========================

    function toggleAdminPanel() {
      if (!isAdmin) {
        const input = prompt("–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∞:");
        if (input === null) return;
        if (input === ADMIN_PASSWORD) {
          isAdmin = true;
          adminPanel.classList.add("visible");
          adminToggleBtn.innerHTML = '<span class="icon">‚úÖ</span><span>–ê–¥–º–∏–Ω</span>';
        } else {
          alert("–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å ü§®");
        }
      } else {
        adminPanel.classList.toggle("visible");
      }
    }

    function slugify(str) {
      return str
        .toString()
        .trim()
        .toLowerCase()
        .replace(/\s+/g, "-")
        .replace(/[^a-z0-9\-–∞-—è—ë]/g, "")
        .replace(/-+/g, "-")
        .slice(0, 24);
    }

    function handleAddSection() {
      const name = sectionNameInput.value.trim();
      if (!name) {
        alert("–í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞ / —É—á–∏—Ç–µ–ª—è.");
        return;
      }
      const idBase = slugify(name) || "sec";
      let id = idBase;
      let counter = 2;
      while (state.sections.some((s) => s.id === id)) {
        id = `${idBase}-${counter++}`;
      }

      state.sections.push({
        id,
        title: name,
        meta: "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ä–∞–∑–¥–µ–ª",
        videos: [],
      });

      state.activeSectionId = id;
      saveState();

      sectionNameInput.value = "";
      renderTabs();
      renderVideos();
      renderSectionSelect();
    }

    function handleAddVideo() {
      const sectionId = sectionSelect.value;
      const title = videoTitleInput.value.trim();
      const file = videoFileInput.value.trim();

      if (!sectionId) {
        alert("–í—ã–±–µ—Ä–∏ —Ä–∞–∑–¥–µ–ª.");
        return;
      }
      if (!title) {
        alert("–í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ.");
        return;
      }
      if (!file) {
        alert("–í–≤–µ–¥–∏ –∏–º—è —Ñ–∞–π–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, myvideo.mp4).");
        return;
      }

      const section = state.sections.find((s) => s.id === sectionId);
      if (!section) {
        alert("–†–∞–∑–¥–µ–ª –Ω–µ –Ω–∞–π–¥–µ–Ω.");
        return;
      }

      const vidId = `${section.id}-${(section.videos?.length || 0) + 1}`;
      const downloadable = videoDownloadable.checked;

      section.videos = section.videos || [];
      section.videos.push({
        id: vidId,
        title,
        file,
        downloadable,
        tag: "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –≤–∏–¥–µ–æ",
      });

      state.activeSectionId = section.id;
      saveState();

      videoTitleInput.value = "";
      videoFileInput.value = "";
      videoDownloadable.checked = true;

      renderTabs();
      renderVideos();
      renderSectionSelect();
    }

    // =========================
    //  –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    // =========================

    adminToggleBtn.addEventListener("click", toggleAdminPanel);
    addSectionBtn.addEventListener("click", handleAddSection);
    addVideoBtn.addEventListener("click", handleAddVideo);

    renderTabs();
    renderVideos();
    renderSectionSelect();
  </script>
</body>
</html>
